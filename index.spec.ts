import { parseVietnamMobile } from './index'

describe('index.ts', () => {
  test('parseVietnamMobile', () => {
    expect(parseVietnamMobile('0898000111')).toEqual({
      brand: 'MobiFone',
      mcc: '452',
      mnc: '01',
      num: [
        { code: '70', blocks: ['2', '3', '4', '5', '6', '7', '8'] },
        { code: '76', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '77', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '78', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '79', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '89', blocks: ['6', '8', '9'] },
        { code: '90', blocks: ['1', '2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '93', blocks: ['1', '2', '3', '4', '5', '6', '7', '8', '9'] },
      ],
    })
    expect(parseVietnamMobile('0919000999')).toEqual({
      brand: 'Vinaphone',
      mcc: '452',
      mnc: '02',
      num: [
        { code: '13', blocks: ['88'], m2m: true },
        { code: '81', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '82', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '83', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '84', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '85', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '88', blocks: ['6', '8', '9'] },
        { code: '91', blocks: ['1', '2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '94', blocks: ['1', '2', '3', '4', '5', '6', '7', '8', '9'] },
      ]
    })
    expect(parseVietnamMobile('0987654321')).toEqual({
      brand: 'Viettel Mobile',
      mcc: '452',
      mnc: '04',
      num: [
        { code: '16', blocks: ['997', '998', '999'], m2m: true },
        { code: '32', blocks: ['5', '6 ', '7', '8', '9'] },
        { code: '33', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '34', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '35', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '36', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '37', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '38', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '39', blocks: ['2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '86', blocks: ['2', '5', '6', '7', '8', '9'] },
        { code: '96', blocks: ['1', '2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '97', blocks: ['1', '2', '3', '4', '5', '6', '7', '8', '9'] },
        { code: '98', blocks: ['1', '2', '3', '4', '5', '6', '7', '8', '9'] },
      ]
    })
    expect(parseVietnamMobile('0545454545')).toBeUndefined()
  })
})
